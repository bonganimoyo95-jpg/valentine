<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Valentine?</title>
    <style>
      :root {
        --bg1: #fff1f5;
        --bg2: #ffe4e6;
        --card: rgba(255, 255, 255, 0.75);
        --text: #1f2937;
        --accent: #fb7185;
        --accent2: #f43f5e;
      }

      * { box-sizing: border-box; }

      body {
        margin: 0;
        min-height: 100vh;
        display: grid;
        place-items: center;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
        color: var(--text);
        background:
          radial-gradient(1200px 800px at 20% 10%, var(--bg2), transparent 60%),
          radial-gradient(900px 700px at 80% 30%, var(--bg1), transparent 55%),
          linear-gradient(135deg, #ffffff, #fff7ed);
        padding: 24px;
      }

      .card {
        width: min(520px, 92vw);
        background: var(--card);
        border: 1px solid rgba(244, 63, 94, 0.18);
        border-radius: 24px;
        padding: 28px;
        box-shadow: 0 18px 50px rgba(0, 0, 0, 0.08);
        backdrop-filter: blur(10px);
        text-align: center;
        position: relative;
      }

      h1 {
        margin: 0 0 14px;
        font-size: clamp(28px, 4vw, 40px);
        letter-spacing: -0.02em;
      }

      p {
        margin: 0 0 22px;
        opacity: 0.85;
      }

      .buttons {
        display: flex;
        gap: 12px;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;

        /* room for the â€œrun awayâ€ effect */
        position: relative;
        min-height: 120px;
        padding: 12px;
        overflow: hidden;
      }

      button {
        border: 0;
        border-radius: 999px;
        padding: 12px 18px;
        font-size: 16px;
        cursor: pointer;
        transition: transform 0.16s ease, filter 0.2s ease, opacity 0.2s ease;
        user-select: none;
        touch-action: manipulation;
      }

      button:active { transform: scale(0.98); }

      .yes {
        background: linear-gradient(180deg, var(--accent), var(--accent2));
        color: white;
        box-shadow: 0 10px 22px rgba(244, 63, 94, 0.28);
        z-index: 1;
      }

      .no {
        background: rgba(31, 41, 55, 0.08);
        color: #111827;
        z-index: 2;
        will-change: transform;
      }

      .no:hover { filter: brightness(0.98); }

      .hidden { display: none; }

      .gif-wrap { margin-top: 18px; }

      img {
        width: 100%;
        border-radius: 18px;
        border: 1px solid rgba(0, 0, 0, 0.08);
      }

      .note {
        margin-top: 14px;
        font-size: 14px;
        opacity: 0.75;
        min-height: 18px;
      }
    </style>
  </head>

  <body>
    <main class="card" role="main" aria-live="polite">
      <section id="question">
        <h1>Lerato, will you be my valentine? ğŸ’˜</h1>
        <p>Choose wisely. The â€œNoâ€ button isâ€¦ elusive.</p>

        <div class="buttons" id="btnArea">
          <button class="yes" id="yesBtn">Yes</button>
          <button class="no" id="noBtn">No</button>
        </div>

        <div class="note" id="noNote" aria-hidden="true"></div>
      </section>

      <section id="celebration" class="hidden">
        <h1>YAYYYYY! ğŸ‰ğŸ’–</h1>
        <p>Thierry Henry approves.</p>

        <div class="gif-wrap">
          <img
            id="celebrationGif"
            alt="Thierry Henry celebrating"
            src="assets/henry-thierry-henry.gif"
          />
        </div>

      </section>
    </main>

    <script>
      const question = document.getElementById("question");
      const celebration = document.getElementById("celebration");
      const yesBtn = document.getElementById("yesBtn");
      const noBtn = document.getElementById("noBtn");
      const noNote = document.getElementById("noNote");
      const btnArea = document.getElementById("btnArea");

      let noClicks = 0;

      yesBtn.addEventListener("click", () => {
        question.classList.add("hidden");
        celebration.classList.remove("hidden");
      });

      function randBetween(min, max) {
        return Math.random() * (max - min) + min;
      }

      function moveNoButton() {
        const areaRect = btnArea.getBoundingClientRect();
        const btnRect = noBtn.getBoundingClientRect();

        // Available space to move within the button area:
        const maxLeft = btnRect.left - areaRect.left;
        const maxRight = areaRect.right - btnRect.right;
        const maxTop = btnRect.top - areaRect.top;
        const maxBottom = areaRect.bottom - btnRect.bottom;

        const padding = 10;

        const dx = randBetween(-maxLeft + padding, maxRight - padding);
        const dy = randBetween(-maxTop + padding, maxBottom - padding);

        noBtn.style.transform = `translate(${dx}px, ${dy}px)`;
      }

      // Desktop: runs away on hover
      noBtn.addEventListener("pointerenter", moveNoButton);

      // Mobile + desktop: runs away on attempted press
      noBtn.addEventListener("pointerdown", (e) => {
        e.preventDefault();
        moveNoButton();

        noClicks += 1;
        const messages = [
          "Nope. Too slow ğŸ˜Œ",
          "Absolutely not catching me ğŸƒâ€â™€ï¸ğŸ’¨",
          "Try againâ€¦ you wonâ€™t ğŸ˜…",
          "Suggestion: press â€œYesâ€ ğŸ’˜",
        ];
        noNote.textContent = messages[Math.min(noClicks - 1, messages.length - 1)];
        noNote.setAttribute("aria-hidden", "false");
      });
    </script>
  </body>
</html>
